!function(){var e=1024e3;Array.prototype.getIndex=function(e,t){return this.map(function(t){return String(t[e])}).indexOf(String(t))},Array.prototype.insert=function(e,t){this.splice(e,0,t)},String.prototype.strip=function(){var e=document.createElement("div");return e.innerHTML=this,e.innerText};const t={c:function(e){return document.createElement(e)}};var i={container:null,hiddenContainer:null,userId:null,name:null,state:new Object,perPage:20,width:300,marginRight:10,emoji:!0,media:!0,iconSize:25,assetPath:"/node_modules/rs-chat/dist/images",socketUrl:"http://localhost:8080/",supportedFile:["jpg","png","gif","jpeg"],maxFileSize:1048576,maxFileSizeError:"File size must be less than 1 mb.",invalidFileMessage:"You have selected a invalid file. The valid files are jpg, jpeg, png and gif.",maxWindow:function(){return parseInt(window.innerWidth/(i.width+i.marginRight))},beforeDialogOpen:function(e,t){e(!0)},afterDialogOpen:function(){},defaultTitle:document.getElementsByTagName("title")[0].innerHTML};i.container=document.createElement("div"),i.container.className="chat_block_container",document.body.appendChild(i.container),i.hiddenContainer=document.createElement("div"),i.hiddenContainer.className="hiddenChat";var n=["p","div","pre","form"],s=document.createElement("a");s.className="hdnChtTgl",s.innerHTML="0 Chat More",s.onclick=function(e){"block"==o.style.display?o.style.display="none":o.style.display="block"};var o=document.createElement("div");o.className="dropUp hide",i.hiddenContainer.appendChild(o),i.hiddenContainer.appendChild(s),document.body.appendChild(i.hiddenContainer);const a=function(e){var t=[],i=e.key,n=localStorage.getItem(i);return n&&(t=JSON.parse(n)),{init:function(){(n=localStorage.getItem(i))&&(t=JSON.parse(n))},reorder:function(){for(var e in RSChat.boxes);},save:function(e){localStorage.setItem(i,JSON.stringify(e))},add:function(e){var i;(i=t.getIndex("id",e.id))>-1?(t[i].state="opened",this.save(t)):(t.push(e),this.save(t))},update:function(e,i){var n;(n=t.getIndex("id",e))>-1&&i.hasOwnProperty("state")&&(t[n].state=i.state,this.save(t))},remove:function(e){var i;(i=t.getIndex("id",e))>-1&&(t.splice(i,1),this.save(t))},get:function(e){},getAll:function(e){return t},count:function(){return t.length}}},r=[{type:"expression",emojis:[128516,128515,128512,128522,9786,128521,128525,128536,128538,128535,128537,128540,128541,128539,128563,128513,128532,128524,128530,128542,128547,128546,128514,128557,128554,128549,128560,128517,128531,128553,128555,128552,128561,128544,128545,128548,128534,128518,128523,128567,128526,128564,128565,128562,128543,128550,128551,128520,128127,128558,128556,128528,128533,128559,128566,128519,128527,128529,128114,128115,128110,128119,128130,128118,128102,128103,128104,128105,128116,128117,128113,128124,128120,128570,128568,128571,128573,128572,128576,128575,128569,128574,128121,128122,128584,128585,128586,128128,128125,128169,128293,10024,127775,128171,128165,128162,128166,128167,128164,128168,128066,128064,128067,128069,128068,128077,128078,128076,128074,9994,9996,128075,9995,128080,128070,128071,128073,128072,128588,128591,9757,128079,128170,128694,127939,128131,128107,128106,128108,128109,128143,128145,128111,128582,128581,128129,128587,128134,128135,128133,128112,128590,128589,128583,127913,128081,128082,128095,128094,128097,128096,128098,128085,128084,128090,128087,127933,128086,128088,128089,128188,128092,128093,128091,128083,127872,127746,128132,128155,128153,128156,128154,10084,128148,128151,128147,128149,128150,128158,128152,128140,128139,128141,128142,128100,128101,128172,128099,128173],icon:128516,sprite:"emoji_spritesheet_0.png",dimensions:[27,7]},{type:"animal",emojis:[128054,128058,128049,128045,128057,128048,128056,128047,128040,128059,128055,128061,128046,128023,128053,128018,128052,128017,128024,128060,128039,128038,128036,128037,128035,128020,128013,128034,128027,128029,128028,128030,128012,128025,128026,128032,128031,128044,128051,128011,128004,128015,128e3,128003,128005,128007,128009,128014,128016,128019,128021,128022,128001,128002,128050,128033,128010,128043,128042,128006,128008,128041,128062,128144,127800,127799,127808,127801,127803,127802,127809,127811,127810,127807,127806,127812,127797,127796,127794,127795,127792,127793,127804,127760,127774,127773,127770,127761,127762,127763,127764,127765,127766,127767,127768,127772,127771,127769,127757,127758,127759,127755,127756,127776,11088,9728,9925,9729,9889,9748,10052,9924,127744,127745,127752,127754],icon:128054,sprite:"emoji_spritesheet_1.png",dimensions:[29,4]},{type:"bell",emojis:[127885,128157,127886,127890,127891,127887,127878,127879,127888,127889,127875,128123,127877,127876,127873,127883,127881,127882,127880,127884,128302,127909,128247,128249,128252,128191,128192,128189,128190,128187,128241,9742,128222,128223,128224,128225,128250,128251,128266,128265,128264,128263,128276,128277,128227,128226,9203,8987,9200,8986,128275,128274,128271,128272,128273,128270,128161,128294,128262,128261,128268,128267,128269,128704,128705,128703,128701,128295,128297,128296,128682,128684,128163,128299,128298,128138,128137,128176,128180,128181,128183,128182,128179,128184,128242,128231,128229,128228,9993,128233,128232,128239,128235,128234,128236,128237,128238,128230,128221,128196,128195,128209,128202,128200,128201,128220,128203,128197,128198,128199,128193,128194,9986,128204,128206,10002,9999,128207,128208,128213,128215,128216,128217,128211,128212,128210,128218,128214,128278,128219,128300,128301,128240,127912,127916,127908,127911,127932,127925,127926,127929,127931,127930,127927,127928,128126,127918,127183,127924,126980,127922,127919,127944,127936,9917,9918,127934,127921,127945,127923,9971,128693,128692,127937,127943,127942,127935,127938,127946,127940,127907,9749,127861,127862,127868,127866,127867,127864,127865,127863,127860,127829,127828,127839,127831,127830,127837,127835,127844,127857,127843,127845,127833,127832,127834,127836,127858,127842,127841,127859,127838,127849,127854,127846,127848,127847,127874,127856,127850,127851,127852,127853,127855,127822,127823,127818,127819,127826,127815,127817,127827,127825,127816,127820,127824,127821,127840,127814,127813,127805],icon:127885,sprite:"emoji_spritesheet_2.png",dimensions:[33,7]},{type:"car",emojis:[127968,127969,127979,127970,127971,127973,127974,127978,127977,127976,128146,9962,127980,127972,127751,127750,127983,127984,9978,127981,128508,128510,128507,127748,127749,127747,128509,127753,127904,127905,9970,127906,128674,9973,128676,128675,9875,128640,9992,128186,128641,128642,128650,128649,128670,128646,128644,128645,128648,128647,128669,128643,128651,128654,128652,128653,128665,128664,128663,128661,128662,128667,128666,128680,128659,128660,128658,128657,128656,128690,128673,128671,128672,128668,128136,128655,127915,128678,128677,9888,128679,128304,9981,127982,127920,9832,128511,127914,127917,128205,128681],icon:127968,sprite:"emoji_spritesheet_3.png",dimensions:[34,3]},{type:"home",emojis:[49,50,51,52,53,54,55,56,57,48,128287,128290,35,128291,11014,11015,11013,10145,128288,128289,128292,8599,8598,8600,8601,8596,8597,128260,9664,9654,128316,128317,8617,8618,8505,9194,9193,9195,9196,10549,10548,127383,128256,128257,128258,127381,127385,127378,127379,127382,128246,127910,127489,127535,127539,127541,127540,127538,127568,127545,127546,127542,127514,128699,128697,128698,128700,128702,128688,128686,127359,9855,128685,127543,127544,127490,9410,128706,128708,128709,128707,127569,12953,12951,127377,127384,127380,128683,128286,128245,128687,128689,128691,128695,128696,9940,10035,10055,10062,9989,10036,128159,127386,128243,128244,127344,127345,127374,127358,128160,10175,9851,9800,9801,9802,9803,9804,9805,9806,9807,9808,9809,9810,9811,9934,128303,127975,128185,128178,128177,169,174,8482,10060,8252,8265,10071,10067,10069,10068,11093,128285,128282,128281,128283,128284,128259,128347,128359,128336,128348,128337,128349,128338,128350,128339,128351,128340,128352,128341,128342,128343,128344,128345,128346,128353,128354,128355,128356,128357,128358,10006,10133,10134,10135,9824,9829,9827,9830,128174,128175,10004,9745,128280,128279,10160,12336,12349,128305,9724,9723,9726,9725,9642,9643,128314,128306,128307,9899,9898,128308,128309,128315,11036,11035,128310,128311,128312,128313],icon:49,sprite:"emoji_spritesheet_4.png",dimensions:[34,7]}],l={expr:/[\ud800-\udbff][\udc00-\udfff]/g,unicodeRegex:/([\u{1f300}-\u{1f5ff}\u{1f900}-\u{1f9ff}\u{1f600}-\u{1f64f}\u{1f680}-\u{1f6ff}\u{2600}-\u{26ff}\u{2700}-\u{27bf}\u{1f1e6}-\u{1f1ff}\u{1f191}-\u{1f251}\u{1f004}\u{1f0cf}\u{1f170}-\u{1f171}\u{1f17e}-\u{1f17f}\u{1f18e}\u{3030}\u{2b50}\u{2b55}\u{2934}-\u{2935}\u{2b05}-\u{2b07}\u{2b1b}-\u{2b1c}\u{3297}\u{3299}\u{303d}\u{00a9}\u{00ae}\u{2122}\u{23f3}\u{24c2}\u{23e9}-\u{23ef}\u{25b6}\u{23f8}-\u{23fa}])/gu,hasSingleEmoji:e=>2===e.length,render:e=>l.hasSingleEmoji(e)?l.bigEmoji(e.strip().trim()).trim():l.smallEmoji(e.strip()).trim(),bigEmoji:e=>e.replace(l.unicodeRegex,(e,t)=>d.generateEmojiImg(t.codePointAt())),smallEmoji:e=>e.replace(l.unicodeRegex,(e,t)=>d.generateEmojiImg(t.codePointAt()))};class d{static createImageStyles(e={}){const t=i.iconSize,n=i.assetPath;let s="";for(let e=0;e<r.length;e++){const i=r[e],o=i.dimensions;for(let e=0;e<i.emojis.length;e++){const a=i.emojis[e],r=e/o[0]|0,l=e%o[0];s+=".emoji-"+a+"{background: url('"+n+"/"+i.sprite+"') "+-t*l+"px "+-t*r+"px no-repeat;background-size: "+o[0]*t+"px "+o[1]*t+"px;}"}}return s}static injectImageStyles(e,t){e=e||"head";var i=document.createElement("style");i.innerHTML=d.createImageStyles(t),(e=document.getElementsByTagName("head")[0]).appendChild(i)}static generateEmojiImg(e){return'<img class="imoji emoji-'+e+' rs-imj-icon" src="'+i.assetPath+'/blank.gif" style="display:inline-block;width:25px;height:25px;" alt="'+e+'" />'}static generateEmojiTag(e){return'<i class="emoji emoji-'+e+' emoji-image" contenteditable="false"><img class="imoji emoji-'+e+' rs-imj-icon" src="'+i.assetPath+'/blank.gif" style="width:25px;height:25px;position:absolute;" alt="'+e+'" contenteditable="false" /></i>'}}var c;d.injectImageStyles(null,{}),String.prototype.makeValidUrl=function(){return-1===this.toLowerCase().indexOf("http://")&&-1===this.toLowerCase().indexOf("https://")?"http://"+this.charAt(0)+this.slice(1):this.charAt(0)+this.slice(1)},this.RSChat={boxes:{},init:function(e){(i=function(e,t){var i;for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}(i,e)).socketUrl=i.socketUrl.makeValidUrl(),i.state=new a({key:"rsc_popup_state_"+i.userId}),i.state.init(),(c=io(i.socketUrl)).on("connect",function(e){c.emit("createSession",{userId:i.userId,name:i.name})}),c.on("history",function(e){e.messages.forEach(e=>{RSChat.newMessage(e)})}),c.on("message",function(e){var t;document.hasFocus()||(t="New Message",document.title=t),RSChat.newMessage(e),RSChat.typingEnd(e)}),c.on("friend_typing",function(e){RSChat.typing(e)}),c.on("user_online_state",function(e){RSChat.userOnlineState(e)}),i.state.getAll().forEach(function(e){RSChat.start(e.id,e.name,e.state)})},start:function(e,t,n=null){var s=this,o="user_"+e;this.boxes.hasOwnProperty(o)?this.boxes[o].open():new Promise(i.beforeDialogOpen).then(function(i){s.boxes[o]=new p(e,t),s.boxes[o].init("opened"),RSChat.reInitWindow()}).catch(function(e){})},newMessage:function(e){var t="user_"+e.userId;this.boxes.hasOwnProperty(t)&&this.boxes[t].createMsg(e),this.start(e.userId,e.name)},typing:function(e){var t="user_"+e.userId;this.boxes.hasOwnProperty(t)&&this.boxes[t].typing(e)},typingEnd:function(e){var t="user_"+e.userId;this.boxes.hasOwnProperty(t)&&this.boxes[t].typingEnd(e)},userOnlineState:function(e){var t="user_"+e.userId;this.boxes.hasOwnProperty(t)&&this.boxes[t].setOnlineStatus(e)},remove:function(e){var t="user_"+e;if(this.boxes.hasOwnProperty(t))return delete this.boxes[t],!0},reInitWindow:function(){var e=this,t=null,n=0,a=parseInt((window.innerWidth-100)/(i.width+i.marginRight));i.hiddenContainer.style.display="none";var r=Object.keys(RSChat.boxes).reverse();r.length<a&&(a=r.length);for(var l=0;l<a;l++)n=l*(i.width+i.marginRight),this.boxes[r[l]].css({marginRight:n+"px",display:"block"}),i.state.update(this.boxes[r[l]].id,{state:"opened"});for(o.innerHTML="",s.innerHTML=r.length-a+" More Chat",l=a;l<r.length;l++)this.boxes[r[l]].css({display:"none"}),this.boxes[r[l]].state="hidden",i.state.update(this.boxes[r[l]].id,{state:"hidden"}),i.hiddenContainer.style.display="block",(t=document.createElement("a")).innerHTML=this.boxes[r[l]].name,function(i){t.onclick=function(){e.boxes[r[i]].open(),o.style.display="none"}}(l),o.appendChild(t)},getWindowToReplace:function(){for(var e in this.boxes)if("opened"==this.boxes[e].state)break;return this.boxes[e]}};const p=function(t,s){this.id=t,this.name=s,this.lastId=null,this.state="opened",this.loadPrevious=null,this.tpl=null,this.typingTpl=null,this.typingObj=null,this.lastTypingRequest=(new Date).getTime(),this.chatHolderWrppper=null,this.chatContent=null,this.activeBtn=null,this.placeholderDisplay=!0,this.init=function(e){this.state=e,i.container.appendChild(this.layout()),"opened"==e&&i.state.add({id:this.id,name:this.name,state:"opened"}),this.loadPrevious(!0),this.getOnlineStatus()},this.getOnlineStatus=function(){var e=this;c.emit("is_online",{id:this.id},function(t){e.setOnlineStatus(t)})},this.setOnlineStatus=function(e){1==e.is_online?this.activeBtn.className="small_green_circle bggreen online-status":this.activeBtn.className="small_green_circle bgred online-status"},this.layout=function(){let t=this;this.tpl=document.createElement("div"),this.tpl.__proto__.first=function(e){return this.querySelectorAll(e)[0]},this.tpl.className="rs-chat-dialog",this.tpl.innerHTML=`\n      <div class="rs-chat-header primaryColor">\n          <div class="userName colorwhite close-minimize-evt">\n            <i class="small_green_circle bgred online-status"></i> ${t.name}\n          </div>\n        <div class="rsc-head-toobar colorwhite">\n          <span class="cross icons"></span>\n        </div>\n      </div>\n      <div class="chatHolderWrppper">\n        <div class="chatHolder">\n          <div class="load-previous"> Load Previous </div>\n          <div class="chat-content"></div>\n          <div class="typing"> \n            <div class="rs-typing">\n              <span></span>\n              <span></span>\n              <span></span>\n            </div>\n          </div>\n        </div>\n        <div class="chatTextArea">          \n          <div style="font-size: 8px !important; position: absolute !important;right: 1px !important;margin-top: 2px !important;display:none !important;">Powered By RS Chat</div>\n          <div contenteditable="true" type="text" data-emoji="true" placeholder="Type a message..." class="msg_area input"></div>\n          <div class="middle-toolbar">\n           ${i.media?'<span class="icons paperclip pointer">\n  <input type="file" title="" class="pointer">\n</span>':""}\n           ${i.emoji?'<span class="icons emoji-btn"></span>&nbsp;':""}\n            \n          </diV>\n        </div>\n      </div>\n      <div class="imojipopup">\n        <div class="emojiList"></div>\n        <div class="imojiFooter"></div>\n      </div>\n    `,i.media&&(this.tpl.addEventListener("dragover",function(e){e.preventDefault()},!1),this.tpl.first(".paperclip").addEventListener("change",function(n){var s;n.preventDefault();var o=new FileReader,a=new FileReader,r=n.target.files[0],l=r.type.split("/");if(r.size>i.maxFileSize)return void alert(i.maxFileSizeError);if(-1===i.supportedFile.indexOf(l[1]))return n.target.value="",void alert(i.invalidFileMessage);a.onloadend=function(e){e.target.readyState===FileReader.DONE&&(s=t.createMsg({userId:i.userId,toId:t.id,msg:e.target.result,type:1}))},a.readAsDataURL(r),n.target.value="";var d={name:r.name,start:0,type:r.type,onse:(new Date).getTime()};!function n(a){var l=a.start+e+1;var p=r.slice(a.start,l);o.onloadend=function(o){o.target.readyState===FileReader.DONE&&c.emit("upload_file",{name:d.name,data:o.target.result,type:d.type,onse:d.onse},function(o){if(o){var d=a.start+e,p=Math.floor(d/r.size*100);s.progress(p),l<r.size?n({start:l}):(s.complete(),c.emit("send",{userId:i.userId,toId:t.id,msg:o.fullPath,type:1}))}})};o.readAsDataURL(p)}(d)})),this.imojiFooter=this.tpl.querySelectorAll(".imojiFooter")[0],this.emojiList=this.tpl.querySelectorAll(".emojiList")[0],this.imojipopup=this.tpl.querySelectorAll(".imojipopup")[0],this.activeBtn=this.tpl.querySelectorAll(".online-status")[0],this.loadPreviousBtn=this.tpl.querySelectorAll(".load-previous")[0],this.chatHolderWrppper=this.tpl.querySelectorAll(".chatHolderWrppper")[0];let s=this.tpl.querySelectorAll(".close-minimize-evt"),o=this.tpl.querySelectorAll(".msg_area")[0];return this.chatContent=this.tpl.querySelectorAll(".chat-content")[0],this.typingTpl=this.tpl.querySelectorAll(".typing")[0],this.chatHolder=this.tpl.querySelectorAll(".chatHolder")[0],this.tpl.querySelectorAll(".cross")[0].addEventListener("click",function(){i.state.remove(t.id),t.tpl.remove(),RSChat.remove(t.id),RSChat.reInitWindow()}),i.emoji&&(this.emojiBtn=this.tpl.querySelectorAll(".emoji-btn")[0],this.emojiBtn.onclick=function(e){"block"!=t.imojipopup.style.display?(t.drawEmoji(),t.imojipopup.style.display="block"):t.imojipopup.style.display="none"}),this.drawEmoji=function(e="expression"){t.emojiList.innerHTML="",r.filter(t=>t.type==e).map(e=>{e.emojis.map(e=>{const n=document.createElement("span");n.className=`imoji emoji-${e} rs-imj-icon`,n.setAttribute("contenteditable","false"),n.innerHTML=`<span class="imoji" data-item="${e}">`+String.fromCodePoint(e)+"</span>",n.onclick=function(n){var s=document.createElement("i");s.style="display:inline-block;width:25px;height:25px;position:relative;",s.setAttribute("contenteditable","false");var a=document.createElement("img");a.src=i.socketUrl+i.assetPath+"/blank.gif",a.className=`imoji emoji-${e} rs-imj-icon`,a.style="width:25px;height:25px;",a.alt=String.fromCodePoint(e),o.appendChild(a),t.imojipopup.style.display="none"},t.emojiList.appendChild(n)})})},this.drawEmojiType=function(){r.map(e=>{const i=document.createElement("span");i.className=`imoji emoji-${e.icon} rs-imj-icon`,i.innerHTML='<span class="imoji">'+String.fromCodePoint(e.icon)+"</span>",i.onclick=function(i){t.drawEmoji(e.type)},t.imojiFooter.appendChild(i)})},this.drawEmojiType(),this.drawEmoji(),s[0].onclick=function(){t.chatHolderWrppper.className.indexOf("hidden")>-1?i.state.update(t.id,{state:"opened"}):i.state.update(t.id,{state:"minimize"}),t.chatHolderWrppper.classList.toggle("hidden")},o.onkeyup=function(e){if(t.lastTypingRequest<=(new Date).getTime()&&(t.lastTypingRequest=(new Date).getTime()+3e3,c.emit("typing",{userId:i.userId,toId:t.id})),t.val().trim()&&13==e.keyCode&&!e.shiftKey){let e={userId:i.userId,toId:t.id,msg:t.val().trim()};c.emit("send",e),t.createMsg(e),this.innerHTML=""}},this.val=function(){for(var e=[],t=[],i=function(){e.push(t.join("")),t=[]},s=function(e){if(3===e.nodeType)t.push(e.nodeValue);else if(1===e.nodeType){var o=e.tagName.toLowerCase(),a=-1!==n.indexOf(o);if(a&&t.length&&i(),"img"===o){var r=e.getAttribute("alt")||"";return void(r&&t.push(r))}"br"===o&&i();for(var l=e.childNodes,d=0;d<l.length;d++)s(l[d]);a&&t.length&&i()}},a=o.childNodes,r=0;r<a.length;r++)s(a[r]);return t.length&&i(),e.join("\n")},this.loadPreviousBtn.onclick=function(e){t.loadPrevious()},this.tpl},this.css=(e=>{e.hasOwnProperty("marginRight")&&(this.tpl.style.marginRight=e.marginRight),e.hasOwnProperty("display")&&(this.tpl.style.display=e.display)}),this.loadPrevious=function(e=!1){let t=this;c.emit("get_history",{toId:t.id,userId:i.userId,lastId:t.lastId,perPage:i.perPage},function(n){n.messages.length<i.perPage&&(t.loadPreviousBtn.style.display="none"),n.messages.length>0&&n.messages.forEach(i=>{t.lastId=i.id,t.createPreviousMsg(i,e)})})},this.open=function(){if("hidden"==this.state){let e=RSChat.boxes["user_"+this.id];delete RSChat.boxes["user_"+this.id],RSChat.boxes["user_"+this.id]=e,i.state.reorder()}this.chatHolderWrppper.style.display="block",i.state.add({id:t,name:s,state:"opened"}),RSChat.reInitWindow()},this.typing=function(e){var t=this;this.typingTpl.style.display="block",this.typingObj=setTimeout(function(){t.typingTpl.style.display="none"},4e3)},this.typingEnd=function(e){this.typingTpl.style.display="none"},this.createMsg=function(e){var t=this.msgTpl(e);return this.chatContent.appendChild(t.html),this.scrollToBottom(),t},this.createPreviousMsg=function(e,t=!0){var i=this.msgTpl(e);return this.chatContent.prepend(i.html),t&&this.scrollToBottom(),i},this.scrollToBottom=function(){var e=this;this.chatHolder.scroll({top:this.chatHolder.scrollHeight,behaviour:"smooth"}),setTimeout(function(){e.chatHolder.scroll({top:e.chatHolder.scrollHeight,behaviour:"smooth"})},500)},this.msgTpl=function(e){return new h(e)}},h=function(e){var n,s,o,a,r=t.c("div"),d=t.c("div");return r.className="chatRow",d.className="chatR",e.type=parseInt(e.type),r.appendChild(d),a=null,e.toId==i.userId&&(d.className="chatL"),1==e.type?((s=t.c("img")).setAttribute("width","100%"),s.onerror=function(){a||(a="failed",s.setAttribute("src",i.socketUrl+i.assetPath+"/noimage.png"))},-1===e.msg.indexOf("base64")?e.msg=i.socketUrl+"/"+e.msg:((o=t.c("div")).className="info-bar",o.innerHTML="10%",(n=t.c("div")).className="image-loader",n.innerHTML='<div id="loader"></div>',n.appendChild(o),d.appendChild(n)),s.setAttribute("src",e.msg),d.appendChild(s)):d.innerHTML=l.render(e.msg),{html:r,progress:function(e){o&&(o.innerHTML=e+"%")},complete:function(){n.remove()}}};window.addEventListener("resize",function(){RSChat.reInitWindow()}),window.addEventListener("focus",function(){document.title=i.defaultTitle})}();